<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DigiRead â€” Login & Daftar</title>
  <link rel="stylesheet" href="css/page-login.css">
</head>

<body>

  <div class="top-bar">
    <button class="back-arrow" onclick="history.back()">&#8592;</button>
  </div>

  <div class="logo-section">
    <img src="img/logo digiread.png" class="logo-img" alt="DigiRead Logo">
  </div>

  <!-- REGISTER FORM -->
  <form class="main-form" id="form-register">
    <h3 class="form-title">Daftar</h3>
    <input type="text" id="reg-email" placeholder="No Telp/Email" required>
    <input type="text" id="reg-username" placeholder="Nama Pengguna" required>
    <input type="password" id="reg-password" placeholder="Kata Sandi" required>

    <div class="social-row">
      <button type="button" class="social-btn"><img src="img/google.png"></button>
      <button type="button" class="social-btn"><img src="img/facebook.png"></button>
    </div>

    <button type="submit" class="main-btn">Daftar</button>
    <div class="register-row">Sudah punya akun? <span class="register-link" onclick="showLogin()">Login</span></div>
  </form>

  <!-- LOGIN FORM -->
  <form class="main-form" id="form-login">
    <h3 class="form-title">Masuk</h3>
    <input type="text" id="login-email" placeholder="No Telp / Email" required>
    <input type="password" id="login-password" placeholder="Kata Sandi" required>

    <div class="forgot-row"><span class="forgot-link" onclick="showReset()">Lupa Sandi?</span></div>

    <div class="social-row">
      <button type="button" class="social-btn"><img src="img/google.png"></button>
      <button type="button" class="social-btn"><img src="img/facebook.png"></button>
    </div>

    <button type="submit" class="main-btn">Masuk</button>
    <div class="register-row">Belum punya akun? <span class="register-link" onclick="showRegister()">Daftar</span></div>
  </form>

  <!-- RESET FORM -->
  <form class="main-form" id="form-reset">
    <h3 class="form-title">Reset Kata Sandi</h3>
    <input type="text" id="reset-email" placeholder="Masukkan Email" required>
    <button type="submit" class="main-btn">Kirim</button>
  </form>

  <script>
    const regForm = document.getElementById('form-register');
    const loginForm = document.getElementById('form-login');
    const resetForm = document.getElementById('form-reset');

    function showRegister() {
      regForm.classList.add('active');
      loginForm.classList.remove('active');
      resetForm.classList.remove('active');
    }
    function showLogin() {
      regForm.classList.remove('active');
      loginForm.classList.add('active');
      resetForm.classList.remove('active');
    }
    function showReset() {
      regForm.classList.remove('active');
      loginForm.classList.remove('active');
      resetForm.classList.add('active');
    }

    showLogin();

    // SIMULASI LOGIN & REGISTER

    regForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const email = document.getElementById('reg-email').value;
      const username = document.getElementById('reg-username').value;
      const password = document.getElementById('reg-password').value;

      localStorage.setItem('digiread_user', JSON.stringify({ email, username, password }));
      alert('Registrasi berhasil. Silakan login.');
      showLogin();
    });

    loginForm.addEventListener('submit', function(e) {
      e.preventDefault();

      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;
      const user = JSON.parse(localStorage.getItem('digiread_user'));

      if (!user) {
        alert('Akun tidak ditemukan. Silakan daftar terlebih dahulu.');
        return;
      }

      if (email === user.email && password === user.password) {
        alert('Login berhasil.');
        window.location.href = 'dashboard.html';
      } else {
        alert('Email atau password salah.');
      }
    });

    resetForm.addEventListener('submit', function(e) {
      e.preventDefault();
      alert('Link reset telah dikirim (simulasi).');
      showLogin();
    });
  </script>

</body>
</html>
